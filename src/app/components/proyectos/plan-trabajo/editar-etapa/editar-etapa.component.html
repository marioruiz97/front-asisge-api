<div class="row">  <!-- mat-dialog-title -->
  <h3>Editar Etapa</h3>
  <div fxFlex></div>
  <button mat-icon-button matTooltip="Cerrar" [matDialogClose]="true">
    <mat-icon>clear</mat-icon>
  </button>
</div>

<form autocomplete="off" [formGroup]="etapaForm" (ngSubmit)="editarEtapa()">
  <mat-dialog-content>
    <div class="form-group my-2">
      <mat-form-field appearance="outline" fxFlex>
        <mat-label>Nombre Etapa</mat-label>
        <input matInput formControlName="nombreEtapa">
        <mat-hint>Ingrese un nombre de máximo 50 caracteres / actual:{{etapaForm.value.nombreEtapa.length}}</mat-hint>
        <mat-error>Ingrese un nombre válido</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group mt-3 mb-4" fxLayout="column" fxLayout.gt-sm="row" fxLayoutAlign.gt-sm="space-between" fxLayoutGap="1rem">
      <mat-form-field appearance="outline" fxFlex>
        <mat-label>Fecha de inicio</mat-label>
        <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="inicio" formControlName="fechaInicio">
        <mat-datepicker-toggle matSuffix [for]="inicio"></mat-datepicker-toggle>
        <mat-datepicker #inicio></mat-datepicker>
        <mat-hint>Ingresa la fecha de inicio de la etapa</mat-hint>
        <mat-error>Campo Obligatorio</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline" fxFlex>
        <mat-label>Fecha de fin</mat-label>
        <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="fin" formControlName="fechaFin">
        <mat-datepicker-toggle matSuffix [for]="fin"></mat-datepicker-toggle>
        <mat-datepicker #fin></mat-datepicker>
        <mat-hint>Ingresa la fecha de fín de la etapa</mat-hint>
        <mat-error>Campo Obligatorio</mat-error>
      </mat-form-field>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button type="button" mat-raised-button [matDialogClose]="true" color="warn" *ngIf="!isWaiting">
      Volver al plan de trabajo
    </button>
    <button type="submit" mat-button color="primary" *ngIf="!isWaiting" [disabled]="etapaForm.invalid">
      Editar Etapa
    </button>
    <mat-spinner *ngIf="isWaiting"></mat-spinner>
  </mat-dialog-actions>
</form>
